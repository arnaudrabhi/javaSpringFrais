<?xml version="1.0" encoding="UTF-8"?>
<flow xmlns="http://www.springframework.org/schema/webflow"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.springframework.org/schema/webflow
      http://www.springframework.org/schema/webflow/spring-webflow.xsd">

    <on-start>
        <evaluate expression="ExpenseDeclarationService.startNewDeclaration()"
                  result="flowScope.declaration"/>
    </on-start>

    <!-- Préparation de déclaration -->
    <view-state id="prepareDeclaration">
        <transition on="submit" to="detailFormationStep"/>

    </view-state>

    <!-- Details de la formation -->
    <view-state id="detailFormationStep">
        <transition on="submit" to="AccommodationStep"/>
    </view-state>

    <!-- Details des dépenses transport -->
    <view-state id="AccommodationStep">
        <transition on="submit" to="mealExpense"/>
    </view-state>




    <!-- Details des dépenses liée à la restauration -->
    <view-state id="mealExpense">
        <transition on="submit" to="bankCoordinates"/>
    </view-state>

    <view-state id="bankCoordinates">
        <transition on="submit" to="end"/>
    </view-state>

    <end-state id="end" />

</flow>
